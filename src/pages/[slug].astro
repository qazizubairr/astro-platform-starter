---
import fs from 'fs/promises';
import path from 'path';
import { marked } from 'marked';

export async function getStaticPaths() {
  const files = await fs.readdir('content/pages');
  return files
    .filter(file => file.endsWith('.json'))
    .map(file => {
      const slug = file.replace('.json', '');
      return { params: { slug } };
    });
}

---

<html lang="en">
  <head>
    <title>{pageData.title}</title>
  </head>
  <body>
    <main>
      <h1>{pageData.title}</h1>
      <article set:html={marked.parse(pageData.markdown_content)} />
    </main>
  </body>
</html>
